@{
    ViewData["Title"] = "Videos  ";
}

<div class="container" style="max-width: 1540px!important">
    <div>
        <ul class="nav nav-tabs">
            <li class="nav-item">
                <input hidden id="channel_id" value="@ViewBag.id" />
                <a class="nav-link active" href="#booksTab" data-toggle="tab">Videos(<span id="zone_soluong">0</span>) </a>
            </li>
        </ul>

        <div class="tab-content clearfix">
            <div class="tab-pane active" id="booksTab">
                <div class="row">
                    <div class="col-sm-12">

                        <div class="tab-content">
                            <div id="tab_1" class="tab-pane active">
                                <div class="box">
                                    <!-- Bộ tìm kiếm -->
                                    <div class="box-body" id="zone_timkiem">
                                        <!--Row 1-->
                                        <!--End Row 1-->
                                        <!--Row 2-->
                                        <div style="width: 100%">
                                            <div style="width: 10%; float: left">
                                                <label style="margin-top: 5px !important">Ngày </label>
                                            </div>
                                            <div style="width: 30%; float: left; padding-right: 10px;">
                                                <input type="text" id="ngay_nhapxuat" placeholder="Chọn ngày" class="form-control" />
                                            </div>

                                            <div class="clear"></div>
                                        </div>
                                        <!--End Row 2-->
                                        <!--Row 3-->
                                        <!--End Row 3-->
                                        <!--Row 4-->
                                        <div style="width: 100%">
                                            <div style="width: 10%; float: left">
                                                <label style="margin-top: 0px !important"></label>
                                            </div>
                                            <div style="width: 70%; float: left; margin-right: 10px">
                                                <div class="pull-left">
                                                    <a class="btn btn-default" href="javascript:void(0)" id="btnTimKiem" title="Tìm kiếm"><i class="fa fa-search"></i> Tìm kiếm </a>
                                                    <a title="Hủy tìm kiếm" class="btn btn-default" id="btnHuyTimKiem"><i class="fa fa-undo"></i> Hủy tìm kiếm </a>
                                                </div>
                                                <div class="pull-right" style="margin-top: 10px">
                                                </div>
                                            </div>
                                            <div style="width: 20%; float: left">
                                            </div>
                                        </div>
                                    </div>
                                    <!--End Row 6-->
                                    <!--Table-->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <dl class="row">
                    <dd class="col-sm-12">
                        <div class="col-3">
                            <h2>Related Videos</h2>
                            <div class="video-list" style="font-size:16px">
                                @foreach (var item in ViewBag.relatedVideo)
                                {
                                    <!-- Each video item -->
                                    <div class="video-item" onclick="setVideo('@item.Year','@item.Month','@item.Date','@item.Hours' )">
                                        <video style="width:60%!important;height:60%!important">
                                            <source src='/@item.Thumbnail.Replace(@"\",@"/")' type="video/mp4">
                                        </video>
                                        <div class="video-title">@item.Date - @item.Month - @item.Year @item.Hours</div>

                                    </div>
                                    <!-- Repeat for more videos -->
                                }
                            </div>
                        </div>
                    </dd>
                </dl>
            </div>
        </div>
    </div>
</div>


<script src="/js/Video/List_v2.js" type="text/javascript"></script>
<script type="text/javascript">
    var main_doc = {};
    main_doc['List'] = new List();
    $(document).ready(function () {
        main_doc.List.init();
    });

    function setVideo(year, month, date, hours) {
        let id = document.getElementById("channel_id").value;
@*         $.ajax({
            url: "/api/Upload/Get",
            dataType: "json",
            type: "GET",
            contentType: 'application/json; charset=utf-8', //define a contentType of your request
            cache: false,
            data: { id: id },
            success: function (data) {
                // data is your result from controller
                document.getElementById("time").innerHTML = data.start + " - " + data.end;
                var video = document.getElementById('my-player');
                var videoSrc = '' + data.videoPath;
                if (Hls.isSupported()) {
                    var hls = new Hls();
                    hls.loadSource(videoSrc);
                    hls.attachMedia(video);
                }
                else if (video.canPlayType('application/vnd.apple.mpegurl')) {
                    video.src = videoSrc;
                }
            },
            error: function (xhr) {
                alert('error');
            }
        }); *@
    }
</script>
